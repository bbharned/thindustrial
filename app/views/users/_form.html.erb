<br />
<%= render 'shared/errors', obj: @user %>
<br />

<div class='row register-div'>
  <div class="col-xs-12">
      <%= form_for(@user, :html => {class: 'form-horizontal', role: 'form' }) do |f| %>
        <div class="form-group">
          <div class="control-label col-sm-2">
            <%= f.label "First Name" %>
          </div>
          <div class="col-sm-8">
            <%= f.text_field :firstname, class: "form-control", placeholder: "Enter First Name", autofocus: true %>
          </div>
        </div>

        <div class="form-group">
          <div class="control-label col-sm-2">
            <%= f.label "Last Name" %>
          </div>
          <div class="col-sm-8">
            <%= f.text_field :lastname, class: "form-control", placeholder: "Enter Last Name" %>
          </div>
        </div>

        <div class="form-group">
          <div class="control-label col-sm-2">
            <%= f.label "Company" %>
          </div>
          <div class="col-sm-8">
            <%= f.text_field :company, class: "form-control", placeholder: "Enter Company Name" %>
          </div>
        </div>

        <div class="form-group">
          <div class="control-label col-sm-2">
            <%= f.label "Address" %>
          </div>
          <div class="col-sm-8">
            <%= f.text_field :street, class: "form-control", placeholder: "Enter Address" %>
          </div>
        </div>

        <div class="form-group">
          <div class="control-label col-sm-2">
            <%= f.label "City" %>
          </div>
          <div class="col-sm-3" id="city">
            <%= f.text_field :city, class: "form-control", placeholder: "Enter City" %>
          </div>
          <div class="control-label col-sm-1">
            <%= f.label "State" %>
          </div>
          <div class="col-sm-1" id="state">
            <%= f.select :state, options_for_select([
              [""], 
              ["AL"], 
              ["AK"], 
              ["AZ"], 
              ["AR"], 
              ["CA"],
              ["CO"],
              ["CT"],
              ["DE"],
              ["FL"],
              ["GA"],
              ["HI"],
              ["ID"],
              ["IL"],
              ["IN"],
              ["IA"],
              ["KS"],
              ["KY"],
              ["LA"],
              ["ME"],
              ["MD"],
              ["MA"],
              ["MI"],
              ["MN"],
              ["MS"],
              ["MO"],
              ["MT"],
              ["NE"],
              ["NV"],
              ["NH"],
              ["NJ"],
              ["NM"],
              ["NY"],
              ["NC"],
              ["ND"],
              ["OH"],
              ["OK"],
              ["OR"],
              ["PA"],
              ["RI"],
              ["SC"],
              ["SD"],
              ["TN"],
              ["TX"],
              ["UT"],
              ["VT"],
              ["VA"],
              ["WA"],
              ["WV"],
              ["WI"],
              ["WY"]
              ], @user.state), class: "form-control" %>
          </div>
          <div class="control-label col-sm-1">
            <%= f.label "Zip" %>
          </div>
          <div class="col-sm-2">
            <%= f.text_field :zipcode, class: "form-control", placeholder: "Zip Code" %>
          </div>
        </div>
        

        <div class="form-group">
          <div class="control-label col-sm-2">
            <%= f.label :email %>
          </div>
          <div class="col-sm-4" id="email">
            <%= f.email_field :email, class: "form-control", placeholder: "Enter Email" %>
          </div>
          <div class="control-label col-sm-1">
            <%= f.label "Phone" %>
          </div>
          <div class="col-sm-3">
            <%= f.text_field :phone, class: "form-control", placeholder: "Enter Phone" %>
          </div>
        </div> 
        <br />
        <div class="form-group">
          <div class="control-label col-sm-2">
            <%= f.label :password %>
          </div>
          <div class="col-sm-4">
            <% if !logged_in? %>
              <%= f.password_field :password, class: "form-control", placeholder: "Create Password" %>
            <% else %>
              <%= f.password_field :password, class: "form-control", placeholder: "Create New Password" %>
            <% end %>
          </div>
          <% if logged_in? and current_user.admin? %>
            <div class="control-label col-sm-1">
              <%= f.label :balance %>
            </div>
            <div class="col-sm-3">
              <%= f.text_field :balance, class: "form-control", placeholder: " " %>
            </div>
          <% end %>
        </div>
        
        
        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <%= f.submit(@user.new_record? ? "Sign Up" : "Update Account", class: "btn btn-primary btn-lg")%>
          </div>
       </div>
      
      
      <% end %>
    <br />  
    <div class="col-xs-12" style="text-align:center;">
      <% if logged_in? %>
     [ <%= link_to "Cancel and Return to User Profile", user_path(current_user) %> ]
     <% else %>
     [ <%= link_to "Cancel and Return to Home", root_path %> ]
     <% end %>
    </div>
  </div>
</div>